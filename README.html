<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
</head>
<body>
<h1 id="code-examples">Code examples</h1>
<p>An example of the optimization abilities of the framework is available in src/test/scala/ivm/tests/PaperTutorial.scala. When run as a test, it verifies that the optimizer on the given query produces the same code as one gets by manual optimization.</p>
<h1 id="compilation-instructions">Compilation instructions</h1>
<p>To compile this project, you can use SBT.</p>
<h2 id="using-sbt">Using SBT</h2>
<p>The project uses SBT 0.11.2 - you need to install that or a later version of SBT; a pre-installed SBT 0.7.x will not work.</p>
<ol style="list-style-type: decimal">
<li>To install SBT, follow instructions on this page: <a href="https://github.com/harrah/xsbt/wiki/Getting-Started-Setup"><code class="url">https://github.com/harrah/xsbt/wiki/Getting-Started-Setup</code></a> Modify the SBT setup to use up to 2G of RAM by adding <code>-Xmx2048M</code> to the <code>java</code> command line. Otherwise, compilation might be slower or run out of memory.</li>
<li>After installing SBT, cd into this folder and launch <code>sbt</code>. It will find the build instructions in <code>build.sbt</code>. During the first execution SBT will auto-download various dependencies needed for itself (including the Scala compiler).</li>
<li>Then, at the SBT prompt, give the <code>package</code> command (simply <code>package</code> followed by newline) to compile and package the library as a JAR file under the <code>target</code> folder. Compilation will require around 5-10 minutes on a recent machine.</li>
<li>You can similarly run commands such as <code>compile</code> (for compilation), <code>test:compile</code> (which also compiles tests) and <code>test</code> (which additionally <em>runs</em> the tests - they include performance tests and take some time). I usually run tests using IntelliJ IDEA to specify which one I am interested in, even if I do not use it for compilation. In particular, tests in the <code>performancetests</code> package take considerable time.</li>
</ol>
<p>Note: this project incorporates <code>lib/bat-1.6.0.RC1.jar</code>, a compiled snapshot of BAT from <a href="https://github.com/Delors/BAT"><code class="url">https://github.com/Delors/BAT</code></a>.</p>
<h2 id="supported-ides">Supported IDEs</h2>
<p>You can edit the project using IntelliJ IDEA 11 with the Scala and SBT plugins installed, beyond SBT itself. We supply IDEA project files, but it is probably best to regenerate them locally via SBT through the <code>gen-idea</code> command.</p>
<p>Integrated compilation with IDEA is not supported; it is anyway too slow to be useful, therefore I would not recommend it.</p>
<p>There are also Eclipse project files (requiring the Scala plugin), but no active development uses Eclipse, therefore they are likely to be out-of-date.</p>
<p>We stopped using Eclipse because the Scala plugin was too buggy when we last tried (as I last tested it).</p>
<p>23 Apr 2012</p>
</body>
</html>
